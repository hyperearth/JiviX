; SPIR-V
; Version: 1.5
; Generator: Google spiregg; 0
; Bound: 184
; Schema: 0
               OpCapability Geometry
               OpCapability RuntimeDescriptorArray
               OpExtension "SPV_EXT_descriptor_indexing"
          %1 = OpExtInstImport "GLSL.std.450"
               OpMemoryModel Logical GLSL450
               OpEntryPoint Geometry %main "main" %drawInfo %in_var_POSITION %in_var_TEXCOORD %in_var_NORMAL %in_var_TANGENT %gl_Position %in_var_PSIZE %out_var_POSITION %out_var_TEXCOORD %out_var_NORMAL %out_var_TANGENT %out_var_BINORMAL
               OpExecutionMode %main OutputVertices 3
               OpExecutionMode %main Invocations 1
               OpExecutionMode %main Triangles
               OpExecutionMode %main OutputTriangleStrip
               OpSource HLSL 650
               OpName %type_PushConstant_DrawInfo "type.PushConstant.DrawInfo"
               OpMemberName %type_PushConstant_DrawInfo 0 "data"
               OpName %drawInfo "drawInfo"
               OpName %in_var_POSITION "in.var.POSITION"
               OpName %in_var_TEXCOORD "in.var.TEXCOORD"
               OpName %in_var_NORMAL "in.var.NORMAL"
               OpName %in_var_TANGENT "in.var.TANGENT"
               OpName %in_var_PSIZE "in.var.PSIZE"
               OpName %out_var_POSITION "out.var.POSITION"
               OpName %out_var_TEXCOORD "out.var.TEXCOORD"
               OpName %out_var_NORMAL "out.var.NORMAL"
               OpName %out_var_TANGENT "out.var.TANGENT"
               OpName %out_var_BINORMAL "out.var.BINORMAL"
               OpName %main "main"
               OpDecorate %gl_Position BuiltIn Position
               OpDecorate %in_var_POSITION Location 0
               OpDecorate %in_var_TEXCOORD Location 1
               OpDecorate %in_var_NORMAL Location 2
               OpDecorate %in_var_TANGENT Location 3
               OpDecorate %in_var_PSIZE Location 4
               OpDecorate %out_var_POSITION Location 0
               OpDecorate %out_var_TEXCOORD Location 1
               OpDecorate %out_var_NORMAL Location 2
               OpDecorate %out_var_TANGENT Location 3
               OpDecorate %out_var_BINORMAL Location 4
               OpMemberDecorate %type_PushConstant_DrawInfo 0 Offset 0
               OpDecorate %type_PushConstant_DrawInfo Block
        %int = OpTypeInt 32 1
      %int_1 = OpConstant %int 1
      %int_0 = OpConstant %int 0
       %uint = OpTypeInt 32 0
     %uint_0 = OpConstant %uint 0
     %uint_3 = OpConstant %uint 3
      %int_3 = OpConstant %int 3
      %float = OpTypeFloat 32
    %float_1 = OpConstant %float 1
    %float_0 = OpConstant %float 0
     %uint_1 = OpConstant %uint 1
    %uint_31 = OpConstant %uint 31
     %v4uint = OpTypeVector %uint 4
%type_PushConstant_DrawInfo = OpTypeStruct %v4uint
%_ptr_PushConstant_type_PushConstant_DrawInfo = OpTypePointer PushConstant %type_PushConstant_DrawInfo
    %v4float = OpTypeVector %float 4
%_arr_v4float_uint_3 = OpTypeArray %v4float %uint_3
%_ptr_Input__arr_v4float_uint_3 = OpTypePointer Input %_arr_v4float_uint_3
%_arr_float_uint_3 = OpTypeArray %float %uint_3
%_ptr_Input__arr_float_uint_3 = OpTypePointer Input %_arr_float_uint_3
%_ptr_Output_v4float = OpTypePointer Output %v4float
       %void = OpTypeVoid
         %37 = OpTypeFunction %void
    %v3float = OpTypeVector %float 3
       %bool = OpTypeBool
%_ptr_PushConstant_uint = OpTypePointer PushConstant %uint
   %drawInfo = OpVariable %_ptr_PushConstant_type_PushConstant_DrawInfo PushConstant
%in_var_POSITION = OpVariable %_ptr_Input__arr_v4float_uint_3 Input
%in_var_TEXCOORD = OpVariable %_ptr_Input__arr_v4float_uint_3 Input
%in_var_NORMAL = OpVariable %_ptr_Input__arr_v4float_uint_3 Input
%in_var_TANGENT = OpVariable %_ptr_Input__arr_v4float_uint_3 Input
%gl_Position = OpVariable %_ptr_Input__arr_v4float_uint_3 Input
%in_var_PSIZE = OpVariable %_ptr_Input__arr_float_uint_3 Input
%out_var_POSITION = OpVariable %_ptr_Output_v4float Output
%out_var_TEXCOORD = OpVariable %_ptr_Output_v4float Output
%out_var_NORMAL = OpVariable %_ptr_Output_v4float Output
%out_var_TANGENT = OpVariable %_ptr_Output_v4float Output
%out_var_BINORMAL = OpVariable %_ptr_Output_v4float Output
         %41 = OpUndef %v4float
       %main = OpFunction %void None %37
         %42 = OpLabel
         %43 = OpLoad %_arr_v4float_uint_3 %in_var_POSITION
         %44 = OpLoad %_arr_v4float_uint_3 %in_var_TEXCOORD
         %45 = OpLoad %_arr_v4float_uint_3 %in_var_NORMAL
         %46 = OpLoad %_arr_v4float_uint_3 %in_var_TANGENT
         %47 = OpCompositeExtract %v4float %43 0
         %48 = OpCompositeExtract %v4float %44 0
         %49 = OpCompositeExtract %v4float %45 0
         %50 = OpCompositeExtract %v4float %46 0
         %51 = OpCompositeExtract %v4float %43 1
         %52 = OpCompositeExtract %v4float %44 1
         %53 = OpCompositeExtract %v4float %45 1
         %54 = OpCompositeExtract %v4float %46 1
         %55 = OpCompositeExtract %v4float %43 2
         %56 = OpCompositeExtract %v4float %44 2
         %57 = OpCompositeExtract %v4float %45 2
         %58 = OpCompositeExtract %v4float %46 2
         %59 = OpFSub %v4float %51 %47
         %60 = OpFSub %v4float %55 %47
         %61 = OpFSub %v4float %52 %48
         %62 = OpFSub %v4float %56 %48
         %63 = OpVectorShuffle %v3float %59 %59 0 1 2
         %64 = OpVectorShuffle %v3float %60 %60 0 1 2
         %65 = OpExtInst %v3float %1 Cross %63 %64
         %66 = OpExtInst %v3float %1 Normalize %65
         %67 = OpCompositeExtract %float %61 0
         %68 = OpCompositeExtract %float %62 1
         %69 = OpFMul %float %67 %68
         %70 = OpCompositeExtract %float %62 0
         %71 = OpCompositeExtract %float %61 1
         %72 = OpFMul %float %70 %71
         %73 = OpFSub %float %69 %72
         %74 = OpFDiv %float %float_1 %73
         %75 = OpVectorShuffle %v3float %62 %62 1 1 1
         %76 = OpFMul %v3float %63 %75
         %77 = OpVectorShuffle %v3float %61 %61 1 1 1
         %78 = OpFMul %v3float %64 %77
         %79 = OpFSub %v3float %76 %78
         %80 = OpVectorTimesScalar %v3float %79 %74
         %81 = OpVectorShuffle %v3float %62 %62 0 0 0
         %82 = OpFMul %v3float %63 %81
         %83 = OpVectorShuffle %v3float %61 %61 0 0 0
         %84 = OpFMul %v3float %64 %83
         %85 = OpFSub %v3float %82 %84
         %86 = OpVectorTimesScalar %v3float %85 %74
         %87 = OpAccessChain %_ptr_PushConstant_uint %drawInfo %int_0 %uint_3
         %88 = OpLoad %uint %87
         %89 = OpBitcast %uint %int_1
         %90 = OpBitwiseAnd %uint %89 %uint_31
         %91 = OpShiftLeftLogical %uint %uint_1 %90
         %92 = OpISub %uint %91 %uint_1
         %93 = OpShiftRightLogical %uint %88 %90
         %94 = OpBitwiseAnd %uint %93 %92
         %95 = OpINotEqual %bool %94 %uint_0
         %96 = OpLogicalNot %bool %95
               OpSelectionMerge %97 None
               OpBranchConditional %96 %98 %97
         %98 = OpLabel
         %99 = OpCompositeExtract %float %66 0
        %100 = OpCompositeExtract %float %66 1
        %101 = OpCompositeExtract %float %66 2
        %102 = OpCompositeConstruct %v4float %99 %100 %101 %float_0
               OpBranch %97
         %97 = OpLabel
        %103 = OpPhi %v4float %49 %42 %102 %98
        %104 = OpBitcast %uint %int_3
        %105 = OpBitwiseAnd %uint %104 %uint_31
        %106 = OpShiftRightLogical %uint %88 %105
        %107 = OpBitwiseAnd %uint %106 %92
        %108 = OpINotEqual %bool %107 %uint_0
        %109 = OpLogicalNot %bool %108
               OpSelectionMerge %110 None
               OpBranchConditional %109 %111 %112
        %111 = OpLabel
        %113 = OpVectorShuffle %v4float %50 %80 4 5 6 3
        %114 = OpVectorShuffle %v4float %41 %86 4 5 6 3
               OpBranch %110
        %112 = OpLabel
        %115 = OpVectorShuffle %v3float %103 %103 0 1 2
        %116 = OpVectorShuffle %v3float %50 %50 0 1 2
        %117 = OpExtInst %v3float %1 Cross %115 %116
        %118 = OpVectorShuffle %v4float %41 %117 4 5 6 3
               OpBranch %110
        %110 = OpLabel
        %119 = OpPhi %v4float %114 %111 %118 %112
        %120 = OpPhi %v4float %113 %111 %50 %112
        %121 = OpVectorShuffle %v3float %103 %103 0 1 2
        %122 = OpExtInst %v3float %1 Normalize %121
        %123 = OpVectorShuffle %v4float %103 %122 4 5 6 3
        %124 = OpVectorShuffle %v3float %120 %120 0 1 2
        %125 = OpExtInst %v3float %1 Normalize %124
        %126 = OpVectorShuffle %v4float %120 %125 4 5 6 3
        %127 = OpVectorShuffle %v3float %119 %119 0 1 2
        %128 = OpExtInst %v3float %1 Normalize %127
        %129 = OpVectorShuffle %v4float %119 %128 4 5 6 3
               OpStore %out_var_POSITION %47
               OpStore %out_var_TEXCOORD %48
               OpStore %out_var_NORMAL %123
               OpStore %out_var_TANGENT %126
               OpStore %out_var_BINORMAL %129
               OpEmitVertex
               OpSelectionMerge %130 None
               OpBranchConditional %96 %131 %130
        %131 = OpLabel
        %132 = OpCompositeExtract %float %66 0
        %133 = OpCompositeExtract %float %66 1
        %134 = OpCompositeExtract %float %66 2
        %135 = OpCompositeConstruct %v4float %132 %133 %134 %float_0
               OpBranch %130
        %130 = OpLabel
        %136 = OpPhi %v4float %53 %110 %135 %131
               OpSelectionMerge %137 None
               OpBranchConditional %109 %138 %139
        %139 = OpLabel
        %140 = OpVectorShuffle %v3float %136 %136 0 1 2
        %141 = OpVectorShuffle %v3float %54 %54 0 1 2
        %142 = OpExtInst %v3float %1 Cross %140 %141
        %143 = OpVectorShuffle %v4float %119 %142 4 5 6 3
               OpBranch %137
        %138 = OpLabel
        %144 = OpVectorShuffle %v4float %54 %80 4 5 6 3
        %145 = OpVectorShuffle %v4float %119 %86 4 5 6 3
               OpBranch %137
        %137 = OpLabel
        %146 = OpPhi %v4float %145 %138 %143 %139
        %147 = OpPhi %v4float %144 %138 %54 %139
        %148 = OpVectorShuffle %v3float %136 %136 0 1 2
        %149 = OpExtInst %v3float %1 Normalize %148
        %150 = OpVectorShuffle %v4float %136 %149 4 5 6 3
        %151 = OpVectorShuffle %v3float %147 %147 0 1 2
        %152 = OpExtInst %v3float %1 Normalize %151
        %153 = OpVectorShuffle %v4float %147 %152 4 5 6 3
        %154 = OpVectorShuffle %v3float %146 %146 0 1 2
        %155 = OpExtInst %v3float %1 Normalize %154
        %156 = OpVectorShuffle %v4float %146 %155 4 5 6 3
               OpStore %out_var_POSITION %51
               OpStore %out_var_TEXCOORD %52
               OpStore %out_var_NORMAL %150
               OpStore %out_var_TANGENT %153
               OpStore %out_var_BINORMAL %156
               OpEmitVertex
               OpSelectionMerge %157 None
               OpBranchConditional %96 %158 %157
        %158 = OpLabel
        %159 = OpCompositeExtract %float %66 0
        %160 = OpCompositeExtract %float %66 1
        %161 = OpCompositeExtract %float %66 2
        %162 = OpCompositeConstruct %v4float %159 %160 %161 %float_0
               OpBranch %157
        %157 = OpLabel
        %163 = OpPhi %v4float %57 %137 %162 %158
               OpSelectionMerge %164 None
               OpBranchConditional %109 %165 %166
        %166 = OpLabel
        %167 = OpVectorShuffle %v3float %163 %163 0 1 2
        %168 = OpVectorShuffle %v3float %58 %58 0 1 2
        %169 = OpExtInst %v3float %1 Cross %167 %168
        %170 = OpVectorShuffle %v4float %146 %169 4 5 6 3
               OpBranch %164
        %165 = OpLabel
        %171 = OpVectorShuffle %v4float %58 %80 4 5 6 3
        %172 = OpVectorShuffle %v4float %146 %86 4 5 6 3
               OpBranch %164
        %164 = OpLabel
        %173 = OpPhi %v4float %172 %165 %170 %166
        %174 = OpPhi %v4float %171 %165 %58 %166
        %175 = OpVectorShuffle %v3float %163 %163 0 1 2
        %176 = OpExtInst %v3float %1 Normalize %175
        %177 = OpVectorShuffle %v4float %163 %176 4 5 6 3
        %178 = OpVectorShuffle %v3float %174 %174 0 1 2
        %179 = OpExtInst %v3float %1 Normalize %178
        %180 = OpVectorShuffle %v4float %174 %179 4 5 6 3
        %181 = OpVectorShuffle %v3float %173 %173 0 1 2
        %182 = OpExtInst %v3float %1 Normalize %181
        %183 = OpVectorShuffle %v4float %173 %182 4 5 6 3
               OpStore %out_var_POSITION %55
               OpStore %out_var_TEXCOORD %56
               OpStore %out_var_NORMAL %177
               OpStore %out_var_TANGENT %180
               OpStore %out_var_BINORMAL %183
               OpEmitVertex
               OpReturn
               OpFunctionEnd
